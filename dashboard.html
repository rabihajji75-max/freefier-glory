<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Glory Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #0a0a0f; color: white; padding-bottom: 70px; }
        .navbar { background: linear-gradient(45deg, #1a1a2e, #16213e); }
        .stats-card { background: rgba(255,255,255,0.05); border-radius: 10px; padding: 15px; margin: 10px; }
        .account-card { background: rgba(255,255,255,0.03); border-radius: 10px; padding: 15px; margin: 10px 0; border-left: 4px solid #FF512F; }
        .btn-action { background: linear-gradient(45deg, #FF512F, #DD2476); border: none; border-radius: 8px; padding: 8px 15px; color: white; margin: 3px; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(26,26,46,0.95); padding: 10px; display: flex; justify-content: space-around; border-top: 1px solid rgba(255,255,255,0.1); }
        .nav-item { text-align: center; color: #999; padding: 5px; }
        .nav-item.active { color: #FF512F; }
    </style>
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <nav class="navbar navbar-dark">
        <div class="container-fluid">
            <span class="navbar-brand"><i class="fas fa-crown"></i> Glory Panel</span>
            <button class="btn btn-sm btn-outline-light" onclick="logout()"><i class="fas fa-sign-out-alt"></i></button>
        </div>
    </nav>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
    <div class="container mt-3">
        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="row">
            <div class="col-6">
                <div class="stats-card text-center">
                    <i class="fas fa-users text-primary"></i>
                    <h5 id="accountsCount">0</h5>
                    <small>Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</small>
                </div>
            </div>
            <div class="col-6">
                <div class="stats-card text-center">
                    <i class="fas fa-trophy text-warning"></i>
                    <h5 id="gloryCount">0</h5>
                    <small>Ø§Ù„Ù‚Ù„ÙˆØ±ÙŠ</small>
                </div>
            </div>
        </div>

        <!-- Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ -->
        <div class="stats-card mt-3">
            <h5><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h5>
            <input type="text" class="form-control mb-2" placeholder="UID Ø§Ù„Ø­Ø³Ø§Ø¨" id="newUID">
            <input type="text" class="form-control mb-2" placeholder="Clan ID (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" id="newClan">
            <button class="btn-action w-100" onclick="addAccount()"><i class="fas fa-save"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨</button>
        </div>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª -->
        <div class="stats-card mt-3">
            <h5><i class="fas fa-list"></i> Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ©</h5>
            <div id="accountsList"></div>
        </div>

        <!-- Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª -->
        <div class="stats-card mt-3">
            <h5><i class="fas fa-shield-alt"></i> Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª ÙƒÙ„Ø§Ù†</h5>
            <input type="text" class="form-control mb-2" placeholder="Clan ID" id="clanID">
            <button class="btn-action w-100" onclick="sendInvites()"><i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª</button>
        </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø³ÙÙ„ÙŠ -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="showTab('home')">
            <i class="fas fa-home fa-lg"></i><br>
            <small>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</small>
        </div>
        <div class="nav-item" onclick="showTab('accounts')">
            <i class="fas fa-users fa-lg"></i><br>
            <small>Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</small>
        </div>
        <div class="nav-item" onclick="showTab('clans')">
            <i class="fas fa-shield-alt fa-lg"></i><br>
            <small>Ø§Ù„ÙƒÙ„Ø§Ù†Ø§Øª</small>
        </div>
    </div>

    <script>
        // ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if(!localStorage.getItem('loggedIn')) {
            window.location.href = 'index.html';
        }

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
        let accounts = JSON.parse(localStorage.getItem('accounts') || '[]');

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateStats() {
            document.getElementById('accountsCount').textContent = accounts.length;
            
            let totalGlory = 0;
            accounts.forEach(acc => {
                totalGlory += acc.glory || 0;
            });
            document.getElementById('gloryCount').textContent = totalGlory;
            
            localStorage.setItem('accounts', JSON.stringify(accounts));
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
        function showAccounts() {
            const container = document.getElementById('accountsList');
            let html = '';
            
            if(accounts.length === 0) {
                html = '<p class="text-center text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª</p>';
            } else {
                accounts.forEach((account, index) => {
                    html += `
                        <div class="account-card">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <strong>${account.uid}</strong><br>
                                    <small class="text-muted">${account.clan ? 'Clan: ' + account.clan : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙ„Ø§Ù†'}</small>
                                </div>
                                <div>
                                    <span class="badge bg-success">${account.glory || 0} ğŸ†</span>
                                </div>
                            </div>
                            <div class="mt-2">
                                <button class="btn-action btn-sm" onclick="startFarming(${index})">
                                    <i class="fas fa-play"></i> ØªØ´ØºÙŠÙ„
                                </button>
                                <button class="btn-action btn-sm" onclick="stopFarming(${index})">
                                    <i class="fas fa-stop"></i> Ø¥ÙŠÙ‚Ø§Ù
                                </button>
                            </div>
                        </div>
                    `;
                });
            }
            
            container.innerHTML = html;
            updateStats();
        }

        // Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
        function addAccount() {
            const uid = document.getElementById('newUID').value;
            const clan = document.getElementById('newClan').value;
            
            if(!uid) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ UID Ø§Ù„Ø­Ø³Ø§Ø¨');
                return;
            }
            
            accounts.push({
                uid: uid,
                clan: clan,
                glory: 0,
                status: 'Ù…ØªÙˆÙ‚Ù'
            });
            
            document.getElementById('newUID').value = '';
            document.getElementById('newClan').value = '';
            
            showAccounts();
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
        }

        // Ø¨Ø¯Ø¡ Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ±ÙŠ
        function startFarming(index) {
            accounts[index].status = 'Ù†Ø´Ø·';
            alert(`ğŸš€ Ø¨Ø¯Ø£ Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ±ÙŠ Ù„Ù„Ø­Ø³Ø§Ø¨: ${accounts[index].uid}`);
            showAccounts();
        }

        // Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ±ÙŠ
        function stopFarming(index) {
            accounts[index].status = 'Ù…ØªÙˆÙ‚Ù';
            alert(`â¹ï¸ ØªÙˆÙ‚Ù Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ±ÙŠ Ù„Ù„Ø­Ø³Ø§Ø¨: ${accounts[index].uid}`);
            showAccounts();
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª ÙƒÙ„Ø§Ù†
        function sendInvites() {
            const clanID = document.getElementById('clanID').value;
            if(!clanID) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Clan ID');
                return;
            }
            
            alert(`ğŸ“¨ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª Ø¥Ù„Ù‰ Ø§Ù„ÙƒÙ„Ø§Ù†: ${clanID}`);
            document.getElementById('clanID').value = '';
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            localStorage.removeItem('loggedIn');
            window.location.href = 'index.html';
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            showAccounts();
        });
    </script>
</body>
</html>
